# ============================================
# ERP PRIME - Configurações
# ============================================
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Preencha as variáveis conforme necessário
# 3. NÃO commite o arquivo .env no Git
#
# ============================================

# Configurações do Servidor
PORT=3000
NODE_ENV=development
HOST=0.0.0.0

# ============================================
# Banco de Dados
# ============================================
# Caminho do banco de dados SQLite
DB_PATH=./data/database/chamados.db

# Configurações do SQL Server (para cadastros de clientes - opcional)
DB_SERVER=localhost
DB_DATABASE=consultas_tess
DB_USER=sa
DB_PASSWORD=sua_senha_aqui
DB_PORT=1433
DB_ENCRYPT=false
DB_TRUST_CERT=true

# ============================================
# Autenticação e Segurança
# ============================================
# IMPORTANTE: Altere esta chave em produção!
# Use um gerador de chaves seguras: openssl rand -base64 32
JWT_SECRET=sua_chave_secreta_jwt_aqui
JWT_EXPIRES_IN=24h

# ============================================
# E-mail (OPCIONAL)
# ============================================
# IMPORTANTE: Para Gmail, você precisa usar "App Password" (senha de app), não a senha normal
# 1. Acesse: https://myaccount.google.com/apppasswords
# 2. Crie uma senha de app para "Mail" e "Outro (nome personalizado)" com nome "ERP PRIME"
# 3. Use a senha gerada (16 caracteres) no campo SMTP_PASS abaixo
# 
# Se você não configurar email, o sistema continuará funcionando normalmente,
# apenas as notificações por email não serão enviadas (mas notificações no sistema continuarão)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu_email@gmail.com
SMTP_PASS=sua_senha_app_gmail_aqui  # Use App Password do Gmail (16 caracteres, sem espaços)
SMTP_FROM=ERP PRIME <seu_email@gmail.com>

# ============================================
# Armazenamento de Arquivos
# ============================================
# Caminhos de armazenamento (não altere a menos que necessário)
UPLOAD_PATH=./storage/uploads
IMAGES_PATH=./storage/images
UPLOADS_PATH=./storage/uploads

# Configurações de Upload
MAX_FILE_SIZE=10485760  # 10MB em bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,zip,rar

# ============================================
# SLA (Service Level Agreement)
# ============================================
# Tempos em horas para resposta e resolução de chamados
SLA_FIRST_RESPONSE=4      # Horas para primeira resposta
SLA_RESOLUTION=24         # Horas para resolução
REOPEN_DAYS=7             # Dias para permitir reabertura

# ============================================
# Logs
# ============================================
# Caminho dos logs (padrão: ./logs)
LOG_PATH=./logs

# ============================================
# Formulário público / Ngrok
# ============================================
# Ao rodar npm start, o Ngrok é iniciado automaticamente para expor o servidor
# à internet (ex.: formulário de descarregamento acessível fora da sua rede).
# Instale o Ngrok e coloque no PATH: https://ngrok.com/download
#
# USE_NGROK=true   - Inicia Ngrok com npm start (padrão)
# USE_NGROK=false  - Não inicia Ngrok
USE_NGROK=true

# Porta local que o Ngrok expõe na internet (geralmente a mesma do servidor Node)
# Se não informar, usa o valor de PORT
NGROK_PORT=3000

# Quando não usar Ngrok, a URL dos QR codes usa uma destas (em ordem):
# PUBLIC_URL=https://meudominio.com
# PUBLIC_HOSTNAME=192.168.1.100

# ============================================
# Desenvolvimento (opcional)
# ============================================
# Desabilitar rate limiting em desenvolvimento
DISABLE_RATE_LIMIT=false

# Debug mode
DEBUG=false
